{% extends "base.html" %} {% block content %}
{% load static %}

<main>
  <!--Section: Products v.3-->
  <section class="mt-3">
    <div class="container">
      <div class="section--wrap flex align-end">
        <h1 class="section--wrap--title title-btn">商品一覧</h1>        
      </div>
      <div class="reports non-slider">
        {% for item in object_list %}
        <div class="report">
          <div class="report-wrap">
            
            <div class="report--thumb">        
              <a href="{{ item.get_absolute_url }}"><img class="" src="{{ item.image.url }}" class="card-img-top" /></a>
            </div>
            <div class="data-wrap">
              <h3 class="data--title">カテゴリ</h3>
              <h3 class="data--content">
                {% for sub_category in item.subcategory.all %}
                <span class="category-split">{{ sub_category.name }}<small >/</small></span>
                {% endfor %}
              </h3>
            </div>
            <div class="data-wrap">
              <h3 class="data--title">タイトル</h3>
              <h3 class="data--content">{{ item.title }}</h3>
            </div>
            <div class="data-wrap">
                <h3 class="data--title">出品者</h3>
                <h3 class="data--content">{{ item.seller_name }}</h3>
            </div>
            <div class="selling-info sp">
              <h2 class="selling-info-text">出品価格(税込)</h2>
              <h2 class="selling-info-value">
                {% if item.discount_price %}
                <strong>¥{{ item.discount_price }} </strong>
                {% else %}
                <strong>¥{{ item.price }}</strong>
                {% endif %}
              </h2>
            </div>
            
          </div>          
          <div class="selling-info pc">
            <h2 class="selling-info-text">出品価格(税込)</h2>
            <h2 class="selling-info-value">
              {% if item.discount_price %}
              <strong>¥{{ item.discount_price }} </strong>
              {% else %}
              <strong>¥{{ item.price }}</strong>
              {% endif %}
            </h2>
          </div>      
            
          
        </div>
        {% endfor %}
      </div>
    </div>
  </section>
  <!--Section: Products v.3-->
  
  <!--Pagination-->

  {% if is_paginated %}
  <nav class="d-flex justify-content-center wow fadeIn">
    <ul class="pagination pg-blue">
      {% if page_obj.has_previous %}
      <li class="page-item btn-prev">
        <a
          class="page-link"
          href="?page={{ page_obj.previous_page_number }}"
          aria-label="Previous"
        >
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      {% else %}
      <li class="page-item btn-prev" disabled><span>&laquo;</span></li>
      {% endif %}
      
      {% for i in page_obj.paginator.page_range %}
        {% if page_obj.number == i %}
        <li class="page-item active">
          <a class="page-link" href="?page={{ page_obj.number }}"
            >{{ i }}
            <span class="sr-only">(current)</span>
          </a>
        </li>
        {% else %}
        <li class="page-item">
          <a class="page-link" href="?page={{ i }}"
          >{{ i }}        
          </a>
        </li>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
      <li class="page-item btn-next">
        <a
          class="page-link"
          href="?page={{ page_obj.next_page_number }}"
          aria-label="Next"
        >
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
      {% else %}
      <li class="page-item btn-next">
        <span aria-hidden="true">&raquo;</span>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</main>

{% endblock content %}
